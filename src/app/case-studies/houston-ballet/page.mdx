import { CaseStudyViewer } from '@/components/CaseStudyViewer'
import { getCaseStudyBySlug } from '@/lib/caseStudies'
import { Heading } from '@/components/Heading'
import { QuoteBlock } from '@/components/case-studies/QuoteBlock'
import { ProseSection, ProseBlock } from '@/components/case-studies/ProseSection'
import { LearningCard } from '@/components/case-studies/LearningCard'
import { Tooltip } from '@/components/ui/tooltip-card'
import { Highlighter } from '@/components/ui/highlighter'
import { FadeIn } from '@/components/ui/fade-in'
import { QrCode, MapPin, Calendar, Armchair, Sparkles, Zap, Clock, Code, FileCode, Palette, FileText } from 'lucide-react'
import PrototypeEmbed from '@/components/prototypes/houston-ballet/PrototypeEmbed'

export const metadata = {
  title: 'JixTix - Case Study',
  description: 'A scalable design system for multi-tenant mobile ticketing — design tokens, TypeScript contracts, and a developer handoff built to grow.',
}

export const sections = [
  { title: 'Context', id: 'context' },
  { title: 'The Approach', id: 'the-approach' },
  { title: 'Try It', id: 'try-it' },
  { title: 'Building the System', id: 'building-the-system' },
  { title: 'What This Means', id: 'what-this-means' },
]

export default function HoustonBalletCaseStudy() {
  const caseStudy = getCaseStudyBySlug('houston-ballet')
  
  if (!caseStudy) {
    return <div>Case study not found</div>
  }

  const summary = {
    context: 'We\u0027re building JixTix as a multi-tenant ticketing platform for non-profits. Houston Ballet is client #1 \u2014 the proof case for whether the architecture scales. Every decision has to work for them and for clients we haven\u0027t met yet.',
    constraints: [
      'One-day build window to validate the UX approach',
      'Designing for APIs that don\u0027t exist yet',
      'Multi-tenant scalability baked in from day one',
    ],
    decisions: [
      'Built a 5-layer design token system (217 CSS custom properties)',
      'Defined 40 TypeScript interfaces as API contracts before any backend existed',
      'Wrote 1,100+ lines of developer documentation across 6 handoff files',
    ],
    impact: 'A plug-and-play system for onboarding new brands \u2014 add a theme file, set an environment variable, and the platform adapts. No rebuild required.',
  }

  const metrics = [
    {
      label: 'Design Tokens',
      value: 217,
      suffix: ' props',
      description: '5-layer CSS token system: colours, spacing, animation, typography, shadows',
      highlight: true,
    },
    {
      label: 'TypeScript Contracts',
      value: 40,
      suffix: ' interfaces',
      description: 'Typed domain models with Tessitura field mapping',
      highlight: true,
    },
    {
      label: 'Developer Documentation',
      value: 1111,
      suffix: ' lines',
      description: 'Across 6 handoff files \u2014 plus ~2,700 in-code comment lines',
      highlight: true,
    }
  ]

  return (
    <CaseStudyViewer caseStudy={caseStudy} metrics={metrics} summary={summary}>
      
      {/* Context */}
      <ProseSection>
        <ProseBlock>
          <Heading id="context" level={2} label="Background" className="mt-0">Context</Heading>
          <p>
            I&apos;ve been working with Houston Ballet through <Tooltip containerClassName="inline" content="A technology consultancy I work with on ticketing and venue experience projects."><span className="font-bold">Jixaw Technologies</span></Tooltip> for a while now &mdash; ticketing flows, purchase paths, venue experiences. They&apos;re a good client. Clear feedback, realistic timelines, no drama. If you&apos;ve freelanced, you know how rare that is.
          </p>
          <p>
            But this project was different from the usual feature work. We&apos;re building <strong>JixTix</strong> &mdash; a multi-tenant ticketing platform for non-profits where each venue gets its own brand, its own feature set, its own identity, all running on shared infrastructure. Houston Ballet is client #1. The UX architecture has to work for clients we haven&apos;t met yet.
          </p>
          <p>
            That&apos;s a design systems problem. Not &quot;make it look nice for one client&quot; &mdash; but <strong>build a structure that adapts without breaking.</strong> Tokens, theme overrides, component boundaries, developer contracts. The kind of foundational work that either saves you hundreds of hours later or costs you them.
          </p>
        </ProseBlock>
      </ProseSection>

      {/* The Approach */}
      <ProseSection>
        <ProseBlock>
          <Heading id="the-approach" level={2} label="Process">The Approach</Heading>
          <p>
            The smart move for a multi-tenant platform is to start with the specific and extract the general. Houston Ballet&apos;s mobile ticketing experience gave me a real client, real brand constraints, and real user scenarios to design against. But every decision had to answer two questions: <em>Does this work for Houston Ballet?</em> and <em>Will this structure hold when the next client shows up?</em>
          </p>
          <p>
            I started with the UX architecture &mdash; grey-box wireframes mapping the <Tooltip containerClassName="inline" content="The structural blueprint of how screens, content, and features are organized. The skeleton before the skin."><span className="font-bold">information architecture</span></Tooltip>. Header, ticket list, navigation, QR codes, venue info. No colours, no polish. Just structure. The kind of skeleton that looks boring but defines whether the product is navigable.
          </p>
        </ProseBlock>

        <ProseBlock delay={0.1} className="mt-8">
          <h3>From Structure to Branded Prototype</h3>
          <p>
            Once the IA was solid, I used <Tooltip containerClassName="inline" content="A tool that converts Figma designs into production-ready code using AI, part of the emerging &apos;design-to-code&apos; workflow."><span className="font-bold">Figma Make</span></Tooltip> to rapidly translate those wireframes into a branded prototype. Houston Ballet&apos;s assets &mdash; logo, colour palette, typography &mdash; became the first &quot;theme&quot; applied to the system. The tool understood these as constraints, not suggestions. When I asked for &quot;a ticket card,&quot; it used the purple from the brand, not some default blue.
          </p>
          <p>
            The speed here mattered. AI tooling like Figma Make is mature enough now to be part of the workflow &mdash; not a separate experiment. The muscle memory is there. I can move from concept to high-fidelity prototype without switching contexts or losing momentum. Getting to a functional prototype in a day meant I could spend the second day on what actually differentiates this work: <strong>the multi-tenant architecture underneath.</strong>
          </p>
        </ProseBlock>

        <FadeIn delay={0.15}>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-6 my-8">
            <div className="bg-white dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 p-5">
              <div className="flex items-center gap-3 mb-3">
                <div className="p-2 bg-zinc-100 dark:bg-zinc-700 rounded-lg">
                  <Clock className="h-4 w-4 text-zinc-600 dark:text-zinc-300" />
                </div>
                <h4 className="text-zinc-900 dark:text-white font-semibold text-sm">Morning</h4>
              </div>
              <p className="text-sm text-zinc-600 dark:text-zinc-400">
                UX architecture. Information hierarchy. Screen flow and component boundaries mapped.
              </p>
            </div>

            <div className="bg-white dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 p-5">
              <div className="flex items-center gap-3 mb-3">
                <div className="p-2 bg-zinc-100 dark:bg-zinc-700 rounded-lg">
                  <Sparkles className="h-4 w-4 text-zinc-600 dark:text-zinc-300" />
                </div>
                <h4 className="text-zinc-900 dark:text-white font-semibold text-sm">Afternoon</h4>
              </div>
              <p className="text-sm text-zinc-600 dark:text-zinc-400">
                First theme applied (Houston Ballet). Rapid iteration on interaction patterns and component structure.
              </p>
            </div>

            <div className="bg-white dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 p-5">
              <div className="flex items-center gap-3 mb-3">
                <div className="p-2 bg-zinc-100 dark:bg-zinc-700 rounded-lg">
                  <Zap className="h-4 w-4 text-zinc-600 dark:text-zinc-300" />
                </div>
                <h4 className="text-zinc-900 dark:text-white font-semibold text-sm">Evening</h4>
              </div>
              <p className="text-sm text-zinc-600 dark:text-zinc-400">
                Functional React prototype. Exported, cleaned up, ready for system work.
              </p>
            </div>
          </div>
        </FadeIn>

        <ProseBlock delay={0.2}>
          <p>
            The AI tooling isn&apos;t the story here &mdash; it&apos;s the accelerant. These tools are mature enough now that they&apos;re just part of how I work. The tight feedback cycle let me focus on the decisions that actually matter: interaction patterns, information hierarchy, component boundaries. The stuff that makes a prototype <em>useful for systems work</em>, not just visually polished.
          </p>
        </ProseBlock>
      </ProseSection>

      {/* Quote */}
      <QuoteBlock className="my-16">
        The{' '}
        <Highlighter action="underline">
          best way
        </Highlighter>
        {' '}to show what something feels like is to{' '}
        <Highlighter action="highlight">
          let people use it
        </Highlighter>
        .
      </QuoteBlock>

      {/* Interactive Prototype + Design Approach - Side by Side on Desktop */}
      <section className="mb-16">
        <div className="prose prose-zinc dark:prose-invert max-w-none mb-8">
          <Heading id="try-it" level={2} label="Prototype">Try It</Heading>
          <p>
            Here&apos;s the prototype &mdash; Houston Ballet&apos;s theme applied to the JixTix platform. Tap around, explore the ticket list, view QR codes, check account settings, browse venue info. It&apos;s a real React app, not a clickable mockup. That distinction matters when you&apos;re trying to communicate <em>how something feels</em>, not just how it looks.
          </p>
        </div>

        {/* Side-by-side layout on desktop */}
        <div className="grid grid-cols-1 xl:grid-cols-2 gap-8 xl:gap-12 items-start">
          {/* Prototype */}
          <div className="xl:sticky xl:top-24">
            <div className="flex justify-center">
              <PrototypeEmbed />
            </div>
            <p className="text-[10px] text-zinc-400 dark:text-zinc-500 text-center mt-3 leading-relaxed">
              Not representative of final product. All brand assets are property of Houston Ballet.
            </p>
          </div>

          {/* Design Decisions */}
          <div className="space-y-8">
            <div className="prose prose-zinc dark:prose-invert max-w-none">
              <h3 className="mt-0">Design Decisions</h3>
              <p>
                A theater lobby isn't a living room. Low light, one hand free (the other's holding a coat or a partner), and you've got about three seconds before the usher needs to see your ticket. These constraints shaped everything.
              </p>
            </div>

            {/* Design Decision Cards */}
            <div className="space-y-4">
              <div className="bg-white dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 p-5">
                <div className="flex items-start gap-3">
                  <div className="p-2 bg-zinc-100 dark:bg-zinc-700 rounded-lg shrink-0">
                    <QrCode className="h-4 w-4 text-zinc-600 dark:text-zinc-300" />
                  </div>
                  <div>
                    <h4 className="text-zinc-900 dark:text-white font-semibold text-sm mb-1">High Contrast QR Codes</h4>
                    <p className="text-sm text-zinc-600 dark:text-zinc-400">
                      Dark purple borders on white. Scans reliably even in dim lobby lighting. (This sounds obvious until you've watched someone struggle with a low-contrast QR code at a venue entrance.)
                    </p>
                  </div>
                </div>
              </div>

              <div className="bg-white dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 p-5">
                <div className="flex items-start gap-3">
                  <div className="p-2 bg-zinc-100 dark:bg-zinc-700 rounded-lg shrink-0">
                    <Armchair className="h-4 w-4 text-zinc-600 dark:text-zinc-300" />
                  </div>
                  <div>
                    <h4 className="text-zinc-900 dark:text-white font-semibold text-sm mb-1">Seat Info on the QR Screen</h4>
                    <p className="text-sm text-zinc-600 dark:text-zinc-400">
                      Ushers always ask "which section?" while scanning. Keeping seat info visible eliminates that back-and-forth. Small thing, but it matters when you're holding up a line.
                    </p>
                  </div>
                </div>
              </div>

              <div className="bg-white dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 p-5">
                <div className="flex items-start gap-3">
                  <div className="p-2 bg-zinc-100 dark:bg-zinc-700 rounded-lg shrink-0">
                    <MapPin className="h-4 w-4 text-zinc-600 dark:text-zinc-300" />
                  </div>
                  <div>
                    <h4 className="text-zinc-900 dark:text-white font-semibold text-sm mb-1">Planning Gets Its Own Section</h4>
                    <p className="text-sm text-zinc-600 dark:text-zinc-400">
                      Parking, dining, venue details. Not buried in settings. For occasional theater-goers, this practical info often matters more than account preferences.
                    </p>
                  </div>
                </div>
              </div>

              <div className="bg-white dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 p-5">
                <div className="flex items-start gap-3">
                  <div className="p-2 bg-zinc-100 dark:bg-zinc-700 rounded-lg shrink-0">
                    <Calendar className="h-4 w-4 text-zinc-600 dark:text-zinc-300" />
                  </div>
                  <div>
                    <h4 className="text-zinc-900 dark:text-white font-semibold text-sm mb-1">Date-Sorted by Default</h4>
                    <p className="text-sm text-zinc-600 dark:text-zinc-400">
                      Most people check their tickets close to showtime. Soonest first makes sense. Title sort exists for the season-ticket holders managing multiple performances.
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <div className="bg-zinc-50 dark:bg-zinc-800/30 rounded-xl p-5 border border-zinc-200 dark:border-zinc-700">
              <p className="text-sm text-zinc-600 dark:text-zinc-400">
                <span className="font-semibold text-zinc-900 dark:text-white">Explore:</span> Tap the hamburger menu to see different sections. Select a performance for the QR view. Hit "View Details" for the full venue guide.
              </p>
            </div>
          </div>
        </div>

        {/* Bridge to next section */}
        <div className="prose prose-zinc dark:prose-invert max-w-none mt-12">
          <p>
            The prototype did its job. Houston Ballet could tap through it, feel the interactions, point at things and say &quot;more like this&quot; or &quot;less like that.&quot; But showing what something <em>could</em> feel like is only half the work. A prototype for one client isn&apos;t a system. The next step was turning one-off decisions into scalable patterns &mdash; the work that makes client #2 possible without starting over.
          </p>
        </div>
      </section>

      {/* Building the System */}
      <ProseSection>
        <ProseBlock>
          <Heading id="building-the-system" level={2} label="Systems">Building the System</Heading>
          <p>
            The Figma Make export was a starting point, not a finish line. I created a GitHub repo, pulled it into Cursor, and spent another day turning it into something developers could actually build on. Taking it from &quot;prototype for one client&quot; to &quot;foundation for a platform&quot; meant confronting a different set of problems. Not <em>can we make this?</em> but <em>can this scale? Can someone else work on it? What happens when we don&apos;t know the answer yet?</em>
          </p>
        </ProseBlock>

        <ProseBlock delay={0.1} className="mt-8">
          <p>
            Before I could build anything, I had to define how the pieces fit together. There was no architecture doc, no system diagram, no shared understanding of how the app would talk to Tessitura or what would sit between them. I knew the domain from previous work &mdash; how Tessitura structures its data, what a middleware layer would need to handle, where the boundaries should fall. So I drew it out and put it directly in the codebase. Not as documentation after the fact &mdash; as a proposal. <em>Here&apos;s how I think this should work.</em>
          </p>
        </ProseBlock>

        {/* Architecture Diagram */}
        <FadeIn delay={0.15}>
          <div className="my-8 bg-zinc-50 dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 overflow-hidden">
            <div className="flex items-center gap-2 px-4 py-2 bg-zinc-100 dark:bg-zinc-700/50 border-b border-zinc-200 dark:border-zinc-700">
              <Code className="h-4 w-4 text-zinc-500 dark:text-zinc-400" />
              <span className="text-xs text-zinc-500 dark:text-zinc-400 font-mono">Architecture</span>
            </div>
            <pre className="p-4 text-sm overflow-x-auto">
              <code className="text-zinc-700 dark:text-zinc-300 font-mono">
{`┌─────────────┐     ┌──────────────┐     ┌──────────────┐
│   App       │ --> │  Middleware   │ --> │  Tessitura   │
│  (this!)    │ <-- │  (Node.js)   │ <-- │  (REST API)  │
└─────────────┘     └──────────────┘     └──────────────┘`}
              </code>
            </pre>
            <div className="px-4 py-3 bg-zinc-100/50 dark:bg-zinc-800/50 border-t border-zinc-200 dark:border-zinc-700">
              <p className="text-xs text-zinc-500 dark:text-zinc-400">
                This lived in the code from day one. I defined the system architecture and wrote 40 TypeScript interfaces as the contracts between these boxes &mdash; so the middleware team could build their piece without guessing what the UI expects, and I could build mine without waiting for their APIs to exist.
              </p>
            </div>
          </div>
        </FadeIn>

        <ProseBlock delay={0.15} className="mt-8">
          <h3>The Gap Between Working and Scalable</h3>
          <p>
            The export ran. You could tap through it, see the QR codes, browse the venue info. But under the hood:
          </p>
          <ul>
            <li>The logo was a 40-character hash string</li>
            <li>Mock data lived directly in the main component</li>
            <li>Colours were hardcoded hex values scattered across files</li>
            <li>No responsive layout &mdash; fixed dimensions everywhere, no flexbox, no consideration for different screen sizes</li>
            <li>There was no concept of &quot;this is Houston Ballet&apos;s app&quot; vs &quot;this could be anyone&apos;s app&quot;</li>
          </ul>
          <p>
            That last point about responsiveness is worth calling out. Figma Make doesn&apos;t export responsive layouts &mdash; and honestly, most AI tools still don&apos;t. That&apos;s where close to a decade of building auto-layout specs and flexbox systems by hand pays off. I rebuilt the layout layer from scratch so the UI adapts properly across screen sizes. It&apos;s the kind of thing that&apos;s invisible when it works and immediately obvious when it doesn&apos;t.
          </p>
          <p>
            None of that matters for a demo. All of it matters when you&apos;re handing code to developers who need to build on it. My job was to wire up the UX side &mdash; define the data contracts, set up the component boundaries, parameterise the branding, make it modular. Their job would be connecting the pipes: middleware, auth, the actual <Tooltip containerClassName="inline" content="A ticketing and CRM platform used by performing arts organizations worldwide."><span className="font-bold">Tessitura</span></Tooltip> integration. I know where my work ends and theirs begins &mdash; so roughly 25&ndash;30% of the codebase is documentation. Not filler &mdash; comments that explain <em>why</em> decisions were made, flag open questions explicitly, and address specific team members by name with actionable next steps. That way nobody&apos;s guessing.
          </p>
        </ProseBlock>

        <ProseBlock delay={0.15} className="mt-8">
          <h3>Designing for Questions You Can&apos;t Answer Yet</h3>
          <p>
            I understand <Tooltip containerClassName="inline" content="A ticketing and CRM platform used by performing arts organizations worldwide."><span className="font-bold">Tessitura&apos;s</span></Tooltip> data model from previous work &mdash; I know what a constituent record looks like, how orders are structured, what fields we&apos;d need for ticket display. But there were still open questions:
          </p>
          <ul>
            <li>How does the proprietary QR code system work? (Gary &mdash; another dev on the team &mdash; is building it, not me)</li>
            <li>What will the middleware actually return? (It doesn&apos;t exist yet)</li>
            <li>Will clients want redirect auth or embedded SSO? (Depends on the client)</li>
            <li>What content blocks will different venues want? (Nobody&apos;s asked them yet)</li>
          </ul>
          <p>
            The temptation is to wait until you have answers. But waiting means the developers have nothing to work with. So instead, you design <em>interfaces</em> that define the contract without defining the implementation. I wrote 40 TypeScript interfaces &mdash; fully typed domain models for performances, tickets, venues, content blocks, auth flows &mdash; with inline comments mapping each field to the Tessitura property it likely corresponds to. When the middleware team comes in, they can map their work directly to what the UI expects. That&apos;s UX at the systems level: defining boundaries that let teams work in parallel.
          </p>
        </ProseBlock>

        {/* Code Snippet - Interface Design */}
        <FadeIn delay={0.25}>
          <div className="my-8 bg-zinc-50 dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 overflow-hidden">
            <div className="flex items-center gap-2 px-4 py-2 bg-zinc-100 dark:bg-zinc-700/50 border-b border-zinc-200 dark:border-zinc-700">
              <Code className="h-4 w-4 text-zinc-500 dark:text-zinc-400" />
              <span className="text-xs text-zinc-500 dark:text-zinc-400 font-mono">QRCodeDisplayProps.ts</span>
            </div>
            <pre className="p-4 text-sm overflow-x-auto">
              <code className="text-zinc-700 dark:text-zinc-300 font-mono">
{`// I don't know how Gary's QR code works.
// But I know what it needs to accept.
export interface QRCodeDisplayProps {
  data: string;      // The ticket data to encode
  size?: number;     // Display size (default 200)
  className?: string;
}`}
              </code>
            </pre>
            <div className="px-4 py-3 bg-zinc-100/50 dark:bg-zinc-800/50 border-t border-zinc-200 dark:border-zinc-700">
              <p className="text-xs text-zinc-500 dark:text-zinc-400">
                Gary can implement whatever he wants behind that interface. The rest of the app doesn't care.
              </p>
            </div>
          </div>
        </FadeIn>

        <ProseBlock delay={0.25} className="mt-8">
          <h3>Multi-Tenancy from Day One</h3>
          <p>
            Gary&apos;s QR code interface was one piece. The bigger architectural decision was treating Houston Ballet as client #1 &mdash; not the only client. Components are organized in three tiers: primitives (the atoms), semantic components (buttons, cards, layouts with barrel exports), and feature-level views. Every design token, every component boundary, every config flag was built with the assumption that client #2 exists.
          </p>
        </ProseBlock>

        {/* Architecture Cards */}
        <FadeIn delay={0.3}>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-8">
            <div className="bg-white dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 p-5">
              <div className="flex items-start gap-3">
                <div className="p-2 bg-zinc-100 dark:bg-zinc-700 rounded-lg shrink-0">
                  <FileCode className="h-4 w-4 text-zinc-600 dark:text-zinc-300" />
                </div>
                <div>
                    <h4 className="text-zinc-900 dark:text-white font-semibold text-sm mb-1">Tenant Architecture</h4>
                  <p className="text-sm text-zinc-600 dark:text-zinc-400">
                    Each tenant gets isolated assets, a <code className="text-xs">[data-tenant]</code> CSS selector for theme cascade, and a <code className="text-xs">useTenant()</code> hook with sub-hooks for logo, colour, and feature access.
                  </p>
                </div>
              </div>
            </div>

            <div className="bg-white dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 p-5">
              <div className="flex items-start gap-3">
                <div className="p-2 bg-zinc-100 dark:bg-zinc-700 rounded-lg shrink-0">
                  <Palette className="h-4 w-4 text-zinc-600 dark:text-zinc-300" />
                </div>
                <div>
                    <h4 className="text-zinc-900 dark:text-white font-semibold text-sm mb-1">5-Layer Design Token System</h4>
                  <p className="text-sm text-zinc-600 dark:text-zinc-400">
                    217 CSS custom properties across colours, spacing, animation, typography, and shadows. Palette-level values separated from semantic aliases &mdash; change one theme file and the whole app rebrands.
                  </p>
                </div>
              </div>
            </div>

            <div className="bg-white dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 p-5">
              <div className="flex items-start gap-3">
                <div className="p-2 bg-zinc-100 dark:bg-zinc-700 rounded-lg shrink-0">
                  <Code className="h-4 w-4 text-zinc-600 dark:text-zinc-300" />
                </div>
                <div>
                  <h4 className="text-zinc-900 dark:text-white font-semibold text-sm mb-1">Feature Flags &amp; Auth Strategies</h4>
                  <p className="text-sm text-zinc-600 dark:text-zinc-400">
                    7 feature flags and 4 auth strategies (redirect, embedded SSO, magic link, none). Not every venue needs the same features &mdash; config controls what shows up.
                  </p>
                </div>
              </div>
            </div>

            <div className="bg-white dark:bg-zinc-800/50 rounded-xl border border-zinc-200 dark:border-zinc-700 p-5">
              <div className="flex items-start gap-3">
                <div className="p-2 bg-zinc-100 dark:bg-zinc-700 rounded-lg shrink-0">
                  <FileText className="h-4 w-4 text-zinc-600 dark:text-zinc-300" />
                </div>
                <div>
                  <h4 className="text-zinc-900 dark:text-white font-semibold text-sm mb-1">Developer Handoff</h4>
                  <p className="text-sm text-zinc-600 dark:text-zinc-400">
                    1,100+ lines across 6 Markdown files including a full API contract with endpoint specs, Tessitura field mapping, and error codes. Open questions documented, not assumed.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </FadeIn>

        <ProseBlock delay={0.35}>
          <p>
            This might seem like overkill for a single client. But that&apos;s exactly the point of systems thinking &mdash; the cost of building structure now is low. The cost of retrofitting it later, when you have production code, real users, and tight deadlines, is high.
          </p>
          <p>
            When client #2 shows up, the path is clear: add a folder, add a theme file, set an environment variable. That&apos;s the payoff of designing a system instead of a screen.
          </p>
        </ProseBlock>

      </ProseSection>

      {/* What This Means */}
      <ProseSection>
        <ProseBlock>
          <Heading id="what-this-means" level={2} label="Takeaways">What This Means</Heading>
          <p>
            Design systems work is often invisible. Nobody celebrates the design token file or the TypeScript interface that saved three weeks of integration time. But it&apos;s the difference between &quot;we need to rebuild for the next client&quot; and &quot;we need to add a theme file and set an environment variable.&quot;
          </p>
          <p>
            The work here wasn&apos;t about Houston Ballet specifically &mdash; it was about proving that the UX architecture scales. Every decision was made twice: once for the immediate need, and once for the pattern it establishes. Tokens instead of hardcoded values. Interfaces instead of assumptions. Documentation instead of tribal knowledge.
          </p>
          <p>
            AI tooling accelerated the prototyping, no question. But the compounding value comes from the system decisions &mdash; the things the tools can&apos;t make for you. How to structure theme overrides so they&apos;re ergonomic for developers. Where to draw component boundaries so they&apos;re meaningful, not arbitrary. What to document and what to leave flexible. That&apos;s UX craft at the systems level, and it&apos;s where I spend most of my energy.
          </p>
        </ProseBlock>

        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 my-8">
          <LearningCard 
            title="Systems compound"
            icon="Layers"
            index={0}
          >
            Multi-tenancy, design tokens, service abstractions &mdash; each decision makes the next client cheaper. Architecture is about making future work easier, not just solving today&apos;s problem.
          </LearningCard>

          <LearningCard 
            title="AI is the accelerant"
            icon="Zap"
            index={1}
          >
            The tools are mature enough to be part of the workflow now &mdash; the muscle memory is there. That speed frees time for the structural decisions that actually differentiate the product.
          </LearningCard>

          <LearningCard 
            title="Document the boundaries"
            icon="FileText"
            index={2}
          >
            1,100+ lines of handoff documentation isn&apos;t overhead &mdash; it&apos;s the bridge between &quot;designer&apos;s prototype&quot; and &quot;developer&apos;s production code.&quot; Open questions documented, not assumed.
          </LearningCard>
        </div>

        <ProseBlock delay={0.1}>
          <p>
            I&apos;m not here to write an essay about AI speeding things up. But it is changing how we work &mdash; and I&apos;d rather be honest about that than pretend it&apos;s not happening. The tools are good enough now that they&apos;re just part of the process. What matters is what you do with the time they free up. For me, that&apos;s the systems work &mdash; the stuff that makes a product hold together when more people start building on it.
          </p>
        </ProseBlock>
      </ProseSection>

      {/* Credits */}
      <FadeIn>
        <section className="mt-16 pt-8 border-t border-zinc-200 dark:border-zinc-700">
          <div className="prose prose-zinc dark:prose-invert max-w-none">
            <h3>Credits</h3>
            <p>Houston Ballet, Jixaw Technologies, Gary &amp; Sunny on the dev team, and everyone working on the JixTix platform to make the patron experience seamless from purchase to performance.</p>
          </div>
        </section>
      </FadeIn>
    </CaseStudyViewer>
  )
}
