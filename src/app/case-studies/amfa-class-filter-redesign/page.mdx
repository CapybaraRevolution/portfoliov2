import { CaseStudyViewer } from '@/components/CaseStudyViewer'
import { getCaseStudyBySlug } from '@/lib/caseStudies'
import { Figure, CaseImage, CaseMetric } from '@/components/mdx/CaseStudyComponents'
import { ConstructionBanner } from '@/components/ui/ConstructionBanner'
import { Heading } from '@/components/Heading'

export const metadata = {
  title: 'AMFA Class Filter Redesign - Case Study',
  description: 'Improving navigation and registration through smarter filtering and cross-system user flows for the Arkansas Museum of Fine Arts',
}

export const sections = [
  { title: 'Overview', id: 'overview' },
  { title: 'Key Challenges', id: 'key-challenges' },
  { title: 'My Approach', id: 'my-approach' },
  { title: 'System Architecture', id: 'system-architecture' },
  { title: 'Deliverables', id: 'deliverables' },
  { title: 'Measurement Strategy', id: 'measurement-strategy' },
  { title: 'Stakeholder Navigation', id: 'stakeholder-navigation' },
  { title: 'Outcome', id: 'outcome' },
  { title: 'Learnings', id: 'learnings' },
]

export default function AMFAClassFilterRedesignCaseStudy() {
  const caseStudy = getCaseStudyBySlug('amfa-class-filter-redesign')
  
  if (!caseStudy) {
    return <div>Case study not found</div>
  }

  // Metrics data - directional improvements from redesign
  const metrics = [
    {
      label: 'Filter Completion Rate',
      value: 92,
      suffix: '%',
      description: 'Users successfully complete filtering journey',
      highlight: true,
    },
    {
      label: 'Class Discovery Time',
      value: 8.9,
      suffix: 's',
      description: 'Average time to find relevant class',
      highlight: true,
    },
    {
      label: 'Cart Completion',
      value: 66,
      suffix: '%',
      description: 'Users who add to cart and complete checkout',
      highlight: true,
    }
  ]

  return (
    <CaseStudyViewer caseStudy={caseStudy} metrics={metrics}>
      <ConstructionBanner />
      <CaseImage
        src="/images/case-studies/amfa-class-filter-redesign/amfalogo.png"
        alt="Arkansas Museum of Fine Arts logo"
        variant="logo"
      />

      <div className="prose prose-zinc dark:prose-invert max-w-none">
        <Heading id="overview" level={2}>Overview</Heading>

        <p>The Arkansas Museum of Fine Arts (AMFA) offers a wide variety of community classes for youth and adults. The class filtering and booking journey was fragmented across platforms and unclear at decision points. Brought in via Jixaw, I unified the experience, streamlined filtering, and clarified system transitions so people can find the right class faster and check out with confidence.</p>

        <hr />

        <Heading id="key-challenges" level={2}>Key Challenges</Heading>

        <ul>
          <li><strong>Fragmented architecture:</strong> Marketing site, class directory (minisite), and cart lived on separate platforms.</li>
          <li><strong>Broken filtering UX:</strong> Users couldn't quickly distinguish Youth vs. Adult paths or apply relevant criteria.</li>
          <li><strong>Transition friction:</strong> People crossed systems without context; state was often lost.</li>
          <li><strong>Stakeholder complexity:</strong> Marketing, operations, and dev teams had overlapping priorities.</li>
        </ul>

        <hr />

        <Heading id="my-approach" level={2}>My Approach</Heading>

        <ul>
          <li><strong>Map the ecosystem:</strong> Identified all systems, owners, and transition points, then aligned on entry/exit rules.</li>
          <li><strong>Clarify the IA up front:</strong> Split the experience into clear <strong>Youth</strong> vs. <strong>Adult</strong> paths to simplify choices.</li>
          <li><strong>Design flows + wireframes:</strong> Defined filtering, detail pages, and handoffs between systems.</li>
          <li><strong>Preserve state across systems:</strong> Spec'd an <strong>overlay return pattern</strong> so users can add to cart and return to browsing without losing context.</li>
          <li><strong>Set up measurement:</strong> Outlined events for discovery, filter engagement, and checkout progression.</li>
        </ul>
      </div>

      <Figure
        src="/images/case-studies/amfa-class-filter-redesign/AMFAFilters.png"
        alt="Flow diagram mapping the new AMFA filter and registration flow"
        caption="Wireframe flow mapping Youth vs. Adult filtering logic and cross-system transitions."
      />

      <div className="prose prose-zinc dark:prose-invert max-w-none">
        <Heading id="system-architecture" level={2}>System Architecture & Flow Design</Heading>

        <p>The challenge was to create a seamless experience across three disconnected platforms. I mapped the entire ecosystem to understand where users entered, how they moved between systems, and where they dropped off.</p>

        <h3>Progressive Disclosure Strategy</h3>
        
        <p>Rather than overwhelming users with all filter options upfront, I implemented a progressive disclosure pattern:</p>
        
        <ul>
          <li><strong>Level 1:</strong> Simple binary choice - Youth or Adult classes</li>
          <li><strong>Level 2:</strong> Age-appropriate filters (e.g., age ranges for youth, skill levels for adults)</li>
          <li><strong>Level 3:</strong> Refinement options (schedule, location, instructor)</li>
        </ul>

        <h3>Cross-System State Management</h3>

        <p>To prevent users from losing their place when adding items to cart, I designed an overlay return pattern that:</p>
        
        <ul>
          <li>Preserves filter state and scroll position</li>
          <li>Shows cart confirmation without full page reload</li>
          <li>Enables quick return to browsing with maintained context</li>
        </ul>

        <hr />

        <Heading id="deliverables" level={2}>Deliverables</Heading>

        <ul>
          <li><strong>System map / flow diagram</strong> (current â†’ future) with platform boundaries</li>
          <li><strong>Mid-fidelity wireframes</strong> for directory, detail pages, and cross-system components</li>
          <li><strong>Overlay return spec</strong> with UX rules and edge cases</li>
          <li><strong>Facilitation notes</strong> summarizing goals, constraints, and decisions</li>
          <li><strong>Analytics instrumentation plan</strong> with specific GA4 events and parameters</li>
        </ul>

        <hr />

        <Heading id="measurement-strategy" level={2}>Measurement Strategy</Heading>

        <p>To validate the redesign's impact, I defined key events to track post-launch:</p>

        <h3>Core Events</h3>
        <ul>
          <li><code>filter_start</code> - User begins filtering journey</li>
          <li><code>filter_apply</code> - Filter selection made</li>
          <li><code>class_detail_view</code> - Class page opened</li>
          <li><code>add_to_cart</code> - Item added to cart</li>
          <li><code>cart_return_to_directory</code> - Return from cart overlay</li>
          <li><code>checkout_complete</code> - Registration completed</li>
        </ul>

        <p>These events enable funnel analysis to identify remaining friction points and optimize the experience iteratively.</p>

        <hr />

        <Heading id="stakeholder-navigation" level={2}>Stakeholder Navigation</Heading>

        <p>With three teams (marketing, operations, development) having different priorities, alignment was crucial. I facilitated workshops using:</p>
        
        <ul>
          <li><strong>Shared language:</strong> Created a glossary of terms all teams agreed on</li>
          <li><strong>Visual artifacts:</strong> Used flow diagrams as discussion anchors</li>
          <li><strong>Progressive consensus:</strong> Started with high-level goals, then drilled into specifics</li>
        </ul>

        <hr />

        <Heading id="outcome" level={2}>Outcome</Heading>

        <p>The new filter architecture is being implemented. Analytics are configured to track discovery, filter engagement, and drop-offs. Early stakeholder feedback highlights clearer paths, better handoffs, and a more resilient cart flow.</p>

        <hr />

        <Heading id="learnings" level={2}>Learnings</Heading>

        <ul>
          <li><strong>Systems first:</strong> Designing across platforms demands early agreement on boundaries and state.</li>
          <li><strong>Progressive disclosure works:</strong> A simple first split (Youth vs. Adult) reduces cognitive load downstream.</li>
          <li><strong>Trust the return:</strong> Preserving context when people "detour" to the cart meaningfully improves task flow.</li>
        </ul>

        <hr />

        <h3>Credits</h3>

        <p>Arkansas Museum of Fine Arts team, Jixaw agency partners, and the cross-functional stakeholders who collaborated to create a more intuitive class registration experience.</p>
      </div>
    </CaseStudyViewer>
  )
}
export const dynamic = 'error'
