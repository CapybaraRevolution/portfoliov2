import { CaseStudyViewer } from '@/components/CaseStudyViewer'
import { getCaseStudyBySlug } from '@/lib/caseStudies'
import { Figure, CaseImage } from '@/components/mdx/CaseStudyComponents'
import { QuoteBlock } from '@/components/case-studies/QuoteBlock'
import { AnimatedBeamMultipleOutputDemo } from '@/components/ui/multiple-inputs'
import { AnimatedBeamDemo } from '@/components/ui/fixing-inputs'
import Carousel from '@/components/ui/carousel'

export const metadata = {
  title: 'Breeze Mortgage Hub - Case Study',
  description: 'Transforming an incomplete product into a modern AI-enabled mortgage experience.',
}

export default function BreezeMortgageHubCaseStudy() {
  const caseStudy = getCaseStudyBySlug('breeze-mortgage-hub')
  
  if (!caseStudy) {
    return <div>Case study not found</div>
  }

  // Results metrics - aligned to buyer outcomes
  const metrics = [
    {
      label: 'Series A Secured',
      value: 2.3,
      suffix: 'M',
      description: 'The prototype became part of the fundraising narrative',
      highlight: true,
    },
    {
      label: 'Investor Momentum',
      value: 180,
      suffix: '%↑',
      description: 'More meetings, less explanation after interactive prototypes',
      highlight: true,
    },
    {
      label: 'Time to Clarity',
      value: 1,
      suffix: ' week',
      description: 'From "six months of circling" to aligned feature direction',
    }
  ]

  const heroImage = (
    <CaseImage
      src="/images/case-studies/breeze-mortgage-hub/breeze-logo.png"
      alt="Breeze Mortgage Hub logo"
      variant="logo"
    />
  )

  return (
    <CaseStudyViewer caseStudy={caseStudy} metrics={metrics} heroImage={heroImage}>
      
      {/* The Mess - 50/50 layout with animated beam (text left) */}
      <section className="mb-16">
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
          <div className="prose prose-zinc dark:prose-invert max-w-none">
            <h2 id="the-mess" className="mt-0">The Mess</h2>
            <p>When I joined, the product was a mix of scattered wireframes, half-formed requirements, and a beta that looked and behaved like it had missed a few years of the internet. The value proposition wasn't landing, the flows didn't line up with user goals, and "what happens next" depended on who you asked that day.</p>
            <p>There was also an AI-shaped hole in the roadmap. Not "add AI because it's 2025," but grounded opportunities for categorization, classification, and guidance that could remove friction from the most tedious parts of the mortgage application process. None of that was framed yet.</p>
            <p>The harder part: we weren't just fixing the present. We also needed a clear future scope and a roadmap that wouldn't collapse under its own complexity.</p>
          </div>
          <div className="rounded-xl overflow-hidden">
            <AnimatedBeamMultipleOutputDemo className="h-[400px]" />
          </div>
        </div>
      </section>

      {/* My Role - 50/50 layout with animated beam (text right, flipped) */}
      <section className="mb-16">
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
          <div className="rounded-xl overflow-hidden order-2 lg:order-1">
            <AnimatedBeamDemo />
          </div>
          <div className="prose prose-zinc dark:prose-invert max-w-none order-1 lg:order-2">
            <h2 id="my-role" className="mt-0">My Role</h2>
            <p>I was brought in as an independent contractor supporting the CEO as a UX lead and product strategist. My job was to turn a loose vision into a coherent system the team could build.</p>
            <p>The work helped move Breeze from "we have ideas" to "we have a product story investors can actually experience."</p>
            <p><strong>What I optimized for:</strong></p>
            <ul>
              <li>Clear information architecture and navigation (so people stop getting lost)</li>
              <li>Consistent patterns and component behavior (so the UI has "design DNA," not vibes)</li>
              <li>Requirements that are dev-ready (so shipping doesn't become an interpretive sport)</li>
            </ul>
          </div>
        </div>
      </section>

      {/* Quote Block */}
      <QuoteBlock>
        Without time on our side, Clarity was the fastest way to buy runway.
      </QuoteBlock>

      {/* How I Created Clarity */}
      <section className="mb-16">
        <div className="prose prose-zinc dark:prose-invert max-w-none">
          <h2 id="how-i-created-clarity">How I Created Clarity</h2>
          <p>I began with discovery, an audit of what existed, and competitive scanning across fintech and workflow-heavy tools. The goal wasn't to copy UI—it was to understand what "normal" looks like when complexity is handled well.</p>
          <p>I moved quickly into prototypes because we had a classic situation: about 60% of the product was understood, and the remaining 40% was a fog bank. Prototyping turned that fog into decisions. It surfaced broken assumptions early, de-risked future flows, and forced the information architecture to reveal where it would bend or break.</p>
        </div>

        {/* Carousel with key screens */}
        <div className="my-12">
          <Carousel 
            slides={[
              {
                title: "Dashboard that turns pipeline status into action, filterable by stage in the application process",
                button: "Broker Dashboard",
                src: "/images/case-studies/breeze-mortgage-hub/breezedash.png"
              },
              {
                title: "Client portal showing the selected client's status in the application process. Tabbed IA offered a wide breadth of information. As designers, we should always try to let the complexity live in the UI, as opposed to our users' heads.",
                button: "Client Portal",
                src: "/images/case-studies/breeze-mortgage-hub/Lawyer-Submit.png"
              },
              {
                title: "A modernized chat system allowed brokers to strategize or escalate particularly troublesome clients.",
                button: "Chat System",
                src: "/images/case-studies/breeze-mortgage-hub/Chat.png"
              }
            ]}
          />
        </div>

        <div className="prose prose-zinc dark:prose-invert max-w-none">
          <p>From there, I designed a full system—not isolated screens:</p>
          <ul>
            <li>End-to-end critical paths (application → documents → review → payments)</li>
            <li>Component patterns for form fields, validation, status, and progressive disclosure (so the UI stays calm even when the process isn't)</li>
            <li>Clickable prototypes with meaningful states and transitions (not "happy path theatre")</li>
          </ul>
        </div>
      </section>

      {/* Where AI Fit - 60/40 layout */}
      <section className="mb-16">
        <div className="grid grid-cols-1 lg:grid-cols-5 gap-8 items-start">
          <div className="lg:col-span-3 prose prose-zinc dark:prose-invert max-w-none">
            <h2 id="where-ai-fit" className="mt-0">Where AI Fit (Practical, Not Performative)</h2>
            <p>We identified areas where AI could reduce grunt work without introducing risk:</p>
            <ul>
              <li>Smart form assist to reduce typing and rework</li>
              <li>Predictive document classification so humans aren't forced to play foul detective</li>
              <li>Lightweight conversational guidance for complex steps</li>
              <li>An "Ask Breeze" helper for drafting broker-to-client messages and document text, with the broker approving before sending</li>
            </ul>
          </div>
          <div className="lg:col-span-2">
            <Figure
              src="/images/case-studies/breeze-mortgage-hub/aitools.png"
              alt="AI tools integration"
              caption="AI was used where it adds real leverage: pre-fill, doc recognition, and guidance."
            />
          </div>
        </div>
      </section>

      {/* What Shipped */}
      <section className="mb-16">
        <div className="prose prose-zinc dark:prose-invert max-w-none">
          <h2 id="what-shipped">What Shipped</h2>
          <p>This wasn't a single handoff file. It was a connected package:</p>
          <ul>
            <li>Interactive prototypes suitable for stakeholder and investor walkthroughs</li>
            <li>A componentized design system foundation with interaction rules and states</li>
            <li>UX artifacts (journeys, IA maps, decision notes) anchored to user outcomes</li>
            <li>Dev-friendly acceptance criteria and requirements for high-risk or ambiguous areas</li>
          </ul>
        </div>
      </section>

      {/* Learnings */}
      <section>
        <div className="prose prose-zinc dark:prose-invert max-w-none">
          <h2 id="learnings">Learnings</h2>
          <ol>
            <li><strong>In early-stage products, clarity beats velocity.</strong> Wireframes and prototypes prevent expensive "fast" mistakes later.</li>
            <li><strong>Investors don't want a whitepaper.</strong> They want to feel the product. Interactive prototypes compress explanation time.</li>
            <li><strong>Mortgages are complex. The UX job is to keep the experience calm and predictable</strong> while the system carries the complexity: clear status, clear steps, the right guidance, and low cognitive load.</li>
          </ol>
        </div>
      </section>
    </CaseStudyViewer>
  )
}
export const dynamic = 'error'
