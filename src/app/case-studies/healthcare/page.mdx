import { CaseStudyViewer } from '@/components/CaseStudyViewer'
import { getCaseStudyBySlug } from '@/lib/caseStudies'
import { Figure, CaseImage, CaseMetric } from '@/components/mdx/CaseStudyComponents'
import { ConstructionBanner } from '@/components/ui/ConstructionBanner'
import { LearningCard } from '@/components/case-studies/LearningCard'
import { ToolsStack } from '@/components/case-studies/ToolsStack'
import { Heading } from '@/components/Heading'

export const metadata = {
  title: 'Pharmaceutical Project Management Portal - Case Study',
  description: 'Designed internal tools atop a Salesforce data model so researchers and business leaders could analyze budgets, track outcomes, and manage cross-system data with confidence.',
}

export const sections = [
  { title: 'Overview', id: 'overview' },
  { title: 'Constraints', id: 'constraints' },
  { title: 'What I Did', id: 'what-i-did' },
  { title: 'Deliverables', id: 'deliverables' },
  { title: 'Outcome', id: 'outcome' },
  { title: 'Learnings', id: 'learnings' },
]

export default function HealthcareCaseStudy() {
  const caseStudy = getCaseStudyBySlug('healthcare')
  
  if (!caseStudy) {
    return <div>Case study not found</div>
  }

  // No metrics panel per client confidentiality
  const metrics = null

  return (
    <CaseStudyViewer caseStudy={caseStudy} metrics={metrics}>
      <ConstructionBanner />
      
      <div className="prose prose-zinc dark:prose-invert max-w-none">
        
        <p><strong>Client:</strong> Confidential (Global pharmaceutical organization) | <strong>Role:</strong> Business Analyst, System Designer | <strong>Year:</strong> 2023</p>
        
        <p><strong>Confidentiality:</strong> No client visuals or metrics are shown. Content focuses on responsibilities, process, and outcomes.</p>

        <h2>Overview</h2>

        <p>I led UX for a secure, internal web application that sat on top of a <strong>Salesforce</strong> data schema. The portal was used by researchers, business teams, and senior decision-makers to <strong>analyze product budgets, evaluate program outcomes, and manage information across multiple systems</strong>. My remit spanned discovery through implementation support: mapping data to user needs, shaping the information architecture, designing data-heavy interfaces, and partnering with engineering to deliver a reliable tool in a regulated environment.</p>

        <hr />

        <h2>Constraints</h2>

        <ul>
          <li><strong>Regulated context:</strong> Strict privacy, auditability, and access controls.</li>
          <li><strong>Complex data model:</strong> Salesforce objects/relationships needed to translate cleanly into usable UI concepts.</li>
          <li><strong>Cross-system reality:</strong> Data pipelines bridged Salesforce and other internal systems; error/latency states had to be first-class.</li>
          <li><strong>Mixed user base:</strong> Researchers, analysts, and business leaders—each with different goals and permissions.</li>
        </ul>

        <hr />

        <h2>What I Did</h2>

        <ul>
          <li><strong>System & data mapping:</strong> Partnered with data/engineering to map <strong>Salesforce objects</strong> and relationships to concrete user jobs, shaping navigation, filters, and drill-downs.</li>
          <li><strong>API analysis & integration notes:</strong> Reviewed available endpoints (REST/SOQL), auth/limits, error semantics, and paging. Documented <strong>integration contracts</strong> and edge cases for developers.</li>
          <li><strong>Information architecture:</strong> Defined content groups, table anatomy, sort/filter patterns, and role-based visibility for sensitive fields.</li>
          <li><strong>Data-heavy UI design:</strong> Wireframed dashboards, comparison views, and detail pages; specified empty, loading, and error states so the UI stayed trustworthy under real-world conditions.</li>
          <li><strong>Visualization standards:</strong> Established conventions for charts/tables (legends, units, thresholds), and when to chart vs. table for clarity.</li>
          <li><strong>Delivery support:</strong> Authored PRDs/acceptance criteria, paired with devs during implementation, and supported QA for high-risk flows.</li>
        </ul>

        <hr />

        <h2>Deliverables</h2>

        <ul>
          <li><strong>Current/Future system diagrams</strong> (lightweight C4-ish) showing data flows and permission boundaries</li>
          <li><strong>API/integration notes</strong> (endpoints, payloads, failure states, retries)</li>
          <li><strong>Wireframes & interaction specs</strong> for dashboards, filters, and record detail views</li>
          <li><strong>Data dictionary & field glossary</strong> to align naming and units across teams</li>
          <li><strong>UX writing & states</strong> (empty/loading/error/help) for analyst-grade clarity</li>
        </ul>

        <hr />

        <h2>Outcome</h2>

        <p>The first release shipped to internal users with <strong>consistent patterns</strong>, clearer data navigation, and trustworthy behaviors under load and failure. Teams reported <strong>faster analysis cycles</strong> and <strong>cleaner handoffs</strong> between research and business operations. The portal now provides a maintainable foundation for new modules without reinventing core interaction patterns.</p>

        <hr />

        <Heading level={2}>Tools & Stack</Heading>

        <div className="my-6">
          <ToolsStack
            tools={[
              { name: "Salesforce", description: "data model & auth" },
              { name: "Figma", description: "wireframes/prototypes" },
              { name: "Jira/Confluence", description: "delivery" },
              { name: "Miro", description: "system mapping" },
              { name: "Tableau", description: "visualization exploration" },
            ]}
          />
        </div>

        <hr />

        <Heading id="learnings" level={2}>Learnings</Heading>

        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 my-8">
          <LearningCard 
            title="Great internal tools translate schemas into human workflows—not the other way around."
            icon="Database"
            index={0}
          >
            The data model should serve user needs, not dictate them.
          </LearningCard>

          <LearningCard 
            title="In data-dense UIs, states and semantics are as important as charts."
            icon="BarChart"
            index={1}
          >
            Empty, loading, and error states (empty/loading/error) are as critical as the visualizations themselves.
          </LearningCard>

          <LearningCard 
            title="Early integration notes prevent invisible complexity from surfacing late as rework."
            icon="FileText"
            index={2}
          >
            Documenting API contracts and edge cases upfront saves time and prevents surprises.
          </LearningCard>
        </div>

      </div>
    </CaseStudyViewer>
  )
}
export const dynamic = 'error'
